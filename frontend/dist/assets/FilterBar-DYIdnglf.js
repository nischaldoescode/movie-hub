import{d as _,r,j as l,X as p}from"./main-F7ziLQoi.js";import{b as G}from"./star-BSpultc5.js";import{C as w}from"./chevron-down-GrT9Hr23.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],P=_("funnel",I),K=({category:s="all",region:t="all",sort:b="popularity",onCategoryChange:o,onRegionChange:d,onSortChange:c,onClearAll:j,disabled:O=!1})=>{var F,A,C,D,E,R,L;const[a,i]=r.useState(null),[n,f]=r.useState(!1),h=r.useRef(null),m=[{id:"all",name:"All Genres"},{id:"28",name:"Action"},{id:"12",name:"Adventure"},{id:"16",name:"Animation"},{id:"35",name:"Comedy"},{id:"80",name:"Crime"},{id:"18",name:"Drama"},{id:"14",name:"Fantasy"},{id:"27",name:"Horror"},{id:"10749",name:"Romance"},{id:"878",name:"Sci-Fi"},{id:"53",name:"Thriller"}],x=[{id:"all",name:"All Regions"},{id:"us",name:"Hollywood"},{id:"in",name:"Bollywood"},{id:"kr",name:"K-Drama"},{id:"jp",name:"Anime/Japan"}],v=[{id:"popularity",name:"Popularity"},{id:"rating",name:"Rating"},{id:"release_date",name:"Release Date"}];r.useEffect(()=>{const e=u=>{h.current&&!h.current.contains(u.target)&&i(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),r.useEffect(()=>{const e=()=>{window.innerWidth>640?f(!0):f(!1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);const g=(e,u)=>{e.preventDefault(),e.stopPropagation(),i(a===u?null:u)},y=e=>{o&&o(e),i(null)},N=e=>{d&&d(e),i(null)},B=e=>{c&&c(e),i(null)},k=e=>{e.preventDefault(),e.stopPropagation(),j?j():(o&&o("all"),d&&d("all"),c&&c("popularity")),i(null)},H=()=>{f(!n),n&&i(null)},z=s!=="all"||t!=="all",$=[s!=="all",t!=="all"].filter(Boolean).length;return l.jsxs("div",{className:`mb-8 w-full ${O?"opacity-70 pointer-events-none":""}`,ref:h,children:[l.jsx("div",{className:"sm:hidden mb-3",children:l.jsxs("button",{onClick:H,className:"w-full bg-gray-800 hover:bg-gray-700 text-white rounded-lg py-2 px-3 flex items-center justify-between transition-colors","aria-expanded":n,"aria-controls":"filter-panel",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(P,{size:18,className:"mr-2"}),l.jsx("span",{children:"Filters"}),$>0&&l.jsx("span",{className:"ml-2 bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full",children:$})]}),l.jsx(G,{size:20,className:`transition-transform duration-300 ${n?"rotate-90":""}`})]})}),l.jsx("div",{id:"filter-panel",className:`
          transition-all duration-300 ease-in-out
          ${n?"max-h-96 opacity-100":"max-h-0 opacity-0 sm:max-h-none sm:opacity-100"} 
        `,children:l.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[l.jsxs("div",{className:"hidden sm:flex items-center text-gray-400 mr-1",children:[l.jsx(P,{size:18,className:"mr-2"}),l.jsx("span",{children:"Filters:"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:e=>g(e,"category"),className:`bg-gray-800 hover:bg-gray-700 text-white rounded-lg py-2 px-3 flex items-center justify-between min-w-[140px] transition-all ${a==="category"?"ring-2 ring-blue-500":""} ${s!=="all"?"border-l-4 border-blue-500":""}`,"aria-expanded":a==="category","aria-haspopup":"listbox",children:[l.jsx("span",{className:"truncate",children:((F=m.find(e=>e.id===s))==null?void 0:F.name)||"All Genres"}),l.jsx(w,{size:16,className:`ml-2 transition-transform duration-300 ${a==="category"?"rotate-180":""}`})]}),a==="category"&&l.jsx("div",{className:"absolute z-50 mt-1 bg-gray-800 rounded-lg shadow-lg overflow-y-auto min-w-[160px] w-full max-h-64 border border-gray-700",role:"listbox",children:m.map(e=>l.jsx("button",{onClick:()=>y(e.id),className:`block w-full text-left px-4 py-2 hover:bg-gray-700 transition-colors ${s===e.id?"bg-gray-700 text-blue-400 font-semibold":"text-white"}`,role:"option","aria-selected":s===e.id,children:e.name},e.id))})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:e=>g(e,"region"),className:`bg-gray-800 hover:bg-gray-700 text-white rounded-lg py-2 px-3 flex items-center justify-between min-w-[140px] transition-all ${a==="region"?"ring-2 ring-blue-500":""} ${t!=="all"?"border-l-4 border-blue-500":""}`,"aria-expanded":a==="region","aria-haspopup":"listbox",children:[l.jsx("span",{className:"truncate",children:((A=x.find(e=>e.id===t))==null?void 0:A.name)||"All Regions"}),l.jsx(w,{size:16,className:`ml-2 transition-transform duration-300 ${a==="region"?"rotate-180":""}`})]}),a==="region"&&l.jsx("div",{className:"absolute z-50 mt-1 bg-gray-800 rounded-lg shadow-lg min-w-[160px] w-full border border-gray-700",role:"listbox",children:x.map(e=>l.jsx("button",{onClick:()=>N(e.id),className:`block w-full text-left px-4 py-2 hover:bg-gray-700 transition-colors ${t===e.id?"bg-gray-700 text-blue-400 font-semibold":"text-white"}`,role:"option","aria-selected":t===e.id,children:e.name},e.id))})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:e=>g(e,"sort"),className:`bg-gray-800 hover:bg-gray-700 text-white rounded-lg py-2 px-3 flex items-center justify-between min-w-[140px] transition-all ${a==="sort"?"ring-2 ring-blue-500":""}`,"aria-expanded":a==="sort","aria-haspopup":"listbox",children:[l.jsxs("span",{className:"truncate",children:["Sort: ",((C=v.find(e=>e.id===b))==null?void 0:C.name)||"Popularity"]}),l.jsx(w,{size:16,className:`ml-2 transition-transform duration-300 ${a==="sort"?"rotate-180":""}`})]}),a==="sort"&&l.jsx("div",{className:"absolute z-50 mt-1 bg-gray-800 rounded-lg shadow-lg min-w-[160px] w-full border border-gray-700",role:"listbox",children:v.map(e=>l.jsx("button",{onClick:()=>B(e.id),className:`block w-full text-left px-4 py-2 hover:bg-gray-700 transition-colors ${b===e.id?"bg-gray-700 text-blue-400 font-semibold":"text-white"}`,role:"option","aria-selected":b===e.id,children:e.name},e.id))})]}),z&&l.jsx("div",{className:"hidden sm:block ml-auto",children:l.jsxs("button",{onClick:k,className:"text-white hover:text-white bg-red-600 hover:bg-red-700 px-3 py-1.5 rounded-lg text-sm font-medium flex items-center transition-colors duration-150","aria-label":"Clear all filters",children:[l.jsx(p,{size:16,className:"mr-1"}),"Clear Filters"]})})]})}),z&&l.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s!=="all"&&l.jsxs("div",{className:"bg-blue-600 bg-opacity-30 text-blue-300 text-xs px-3 py-1.5 rounded-full flex items-center shadow-sm",children:[l.jsx("span",{className:"font-medium",children:(D=m.find(e=>e.id===s))==null?void 0:D.name}),l.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),y("all")},className:"ml-2 hover:text-white transition-colors","aria-label":`Remove ${(E=m.find(e=>e.id===s))==null?void 0:E.name} filter`,children:l.jsx(p,{size:14})})]}),t!=="all"&&l.jsxs("div",{className:"bg-blue-600 bg-opacity-30 text-blue-300 text-xs px-3 py-1.5 rounded-full flex items-center shadow-sm",children:[l.jsx("span",{className:"font-medium",children:(R=x.find(e=>e.id===t))==null?void 0:R.name}),l.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),N("all")},className:"ml-2 hover:text-white transition-colors","aria-label":`Remove ${(L=x.find(e=>e.id===t))==null?void 0:L.name} filter`,children:l.jsx(p,{size:14})})]}),l.jsx("div",{className:"sm:hidden",children:l.jsxs("button",{onClick:k,className:"text-white hover:text-white bg-red-600 hover:bg-red-700 px-3 py-1.5 rounded-lg text-xs font-medium flex items-center transition-colors duration-150","aria-label":"Clear all filters",children:[l.jsx(p,{size:14,className:"mr-1"}),"Clear All"]})})]})]})};export{K as F};
